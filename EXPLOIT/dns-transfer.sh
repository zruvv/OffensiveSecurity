#!/bin/bash
echo "Enter in FQDN (ex: burgertown.domain.local): "
read domain

NS=$(dig -t ns $domain +noall +answer | awk '{print $5}')
SOA=$(dig -t soa $domain +noall +answer | awk '{print $5}')
echo -e "\nName Server = $NS"
echo -e "\nSOA server = $SOA"

echo -e "\nWould you like to initiate a Zone Transfer (y/n) ? "
read answer
if [ "$answer" = "y" ];
then
	echo -e "\n\e[1;31mStarting Zone Transfer on NS records...\e[0m"
	for record in $NS
	do
		echo $record
		dig @$record -t axfr $domain
	done

	echo -e "\n\e[1;31mStarting Zone Transfer on SOA record...\e[0m"
	for record in $SOA
	do
		echo $record
		dig @$record -t axfr $domain

	done
	echo -e "\nZone Transfer attempt completed"

else 
	echo -e "\nZone Transfer was not initiated"

fi 
	echo -e "\n\e[1;33mScript has completed\e[0m"